(()=>{var t={160:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ContextMenu:()=>o});const i=document.createElement("template");i.innerHTML='\n   <style> \n           li {\n            list-style: none;\n             padding: .5rem;\n            }\n    </style>\n   <div class="context-menu">\n   <ul>\n   <li id=\'author\'> <slot name="author" /></li>\n   <li id=\'docs\'> <slot name="docs" /></li>\n   </ul>\n   </div>\n   ';class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(i.content.cloneNode(!0)),this.isShown=!1}connectedCallback(){document.querySelector("context-menu"),window.addEventListener("contextmenu",(t=>{t.preventDefault(),this.isShown?(this.style.display="none",this.isShown=!1):(this.style.display="block",this.style.top=`${t.layerY}px`,this.style.left=`${t.layerX}px`,this.isShown=!0)}))}}},384:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Corner:()=>o,Frame:()=>i});class i{constructor(t,e,n,i=24){this.x=t,this.y=e,this.size=n,this.t=i,this.flipped=!1,this.isCorner=!1}draw(t){t.lineWidth=3,t.strokeRect(this.x,this.y,this.size,this.t),t.font="24px",this.flipped?t.fillText((this.t/2).toString(),this.x+this.size/4,this.y+this.t/2):t.fillText((this.size/2).toString(),this.x+this.size/2,this.y+2*this.t/3)}}class o extends i{constructor(t,e,n,i=60,o=24){super(),this.x=t,this.y=e,this.t=o,this.flipped=n,this.size=i,this.isCorner=!0}draw(t){let e;e=this.flipped?`M ${this.x} ${this.y} H ${this.x-60} V ${this.y+24} H ${this.x-24} V ${this.y+60} H ${this.x} V ${this.y}`:`M ${this.x} ${this.y} H ${this.x+60} V ${this.y+24} H ${this.x+24} V ${this.y+60} H ${this.x} V ${this.y}`,t.lineWidth=3,t.stroke(new Path2D(e))}}},992:(t,e,n)=>{"use strict";function i(t,e){const n=new Path2D(e);t.lineWidth=3,t.stroke(n)}n.r(e),n.d(e,{drawPath:()=>i})}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{const{drawPath:t}=n(992),{Frame:e,Corner:i}=n(384),{ContextMenu:o}=n(160);window.customElements.define("context-menu",o);const s=document.getElementById("canvas1"),r=s.getContext("2d");s.width=window.innerWidth,s.height=window.innerHeight,r.fillStyle="rgb(150, 150, 200)";let l=null,d=[];const c="M 200 400 V 200 H 674 V 540 H 724 V 200 H 1198 V 400",a="M 200 150 H 1198",h=[30,45,60,75,90,120,240];function u(t,e){r.strokeStyle="white",r.lineWidth=.2,r.beginPath(),r.moveTo(t,0),r.lineTo(t,window.innerHeight),r.stroke(),r.beginPath(),r.moveTo(0,e),r.lineTo(window.innerWidth,e),r.stroke()}function p(){r.clearRect(0,0,window.innerWidth,window.innerHeight),t(r,c),t(r,a);for(let t of d)t.draw(r);u(l.x,l.y),requestAnimationFrame(p)}window.addEventListener("resize",(t=>{s.width=window.innerWidth,s.height=window.innerHeight})),t(r,c),t(r,a),function(){for(let t of h){const n=document.createElement("button"),i=document.createTextNode(t.toString());n.appendChild(i),document.querySelector("body").append(n),n.classList.add("traybtn"),n.style.position="relative",n.addEventListener("click",(function(n){l=new e(n.clientX,n.clientY,2*t),d.push(l),l.draw(r)}))}}(),function(){const t=document.createElement("button"),e=document.createTextNode("flip");t.appendChild(e),document.querySelector("body").append(t),t.classList.add("traybtn"),t.style.position="relative",t.addEventListener("click",(function(t){l.isCorner?(l.flipped=!0,l.draw(r)):function(t){const e=t.size;t.size=t.t,t.t=e,t.flipped?t.flipped=!1:t.flipped=!0}(l)}))}(),function(){const t=document.createElement("button"),e=document.createTextNode("corner");t.appendChild(e),t.classList.add("traybtn"),document.querySelector("body").append(t),t.style.position="relative",t.addEventListener("click",(function(t){l=new i(t.layerX,t.layerY),d.push(l),l.draw(r),console.log(l)}))}(),function(){const t=document.createElement("button"),e=document.createTextNode("save");t.appendChild(e),t.classList.add("traybtn"),document.querySelector("body").append(t),t.style.position="relative",t.addEventListener("click",(function(t){d.map(((t,e)=>{localStorage.setItem(e,JSON.stringify(t))}))}))}(),function(){const t=document.createElement("button"),n=document.createTextNode("restore");t.appendChild(n),t.classList.add("traybtn"),document.querySelector("body").append(t),t.style.position="relative",t.addEventListener("click",(function(t){(function(){let t=[];for(let e=0;e<localStorage.length;e++)t.push(JSON.parse(localStorage.getItem(localStorage.key(e)))),console.log(t);return localStorage.clear(),t})().map((t=>{let n;n=t.isCorner?new i(t.x,t.y,t.flipped):new e(t.x,t.y,t.size,t.t),d.push(n)})),console.log(d),l=d[0],p()}))}(),s.addEventListener("click",(function(t){t.preventDefault();for(let e of d){let n=new Path2D;n.rect(e.x,e.y,e.x+e.size,e.y+e.t),r.isPointInPath(n,t.layerX,t.layerY)&&(l=e)}})),s.addEventListener("mousemove",(function(t){null!==l&&(1===t.buttons&&(l.isCorner?r.clearRect(l.x,l.y,l.size,l.t+36):r.clearRect(l.x,l.y,l.size,l.t),l.x=t.layerX,l.y=t.layerY),u(l.x,l.y),p())}))})()})();
//# sourceMappingURL=main.js.map